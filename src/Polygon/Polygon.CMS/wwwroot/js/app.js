var Modal=Modal||{Initialize:function(){$(function(){$("body").on("click","#global-modal",function(o){var l=$(this);o.preventDefault(),Modal.ShowWindow(l.attr("href")?l.attr("href"):l.data("url"),l.data("size"))}),$("#global-modal .modal-content").on("click",".close-modal",function(o){Modal.CloseWindow()}),$("#global-modal").on("shown.bs.modal",function(){var o=$("#global-modal .modal-content form:first *:input[type!=hidden]:first").focus();null!=o&&("submit"==o.attr("type")?$("select[type!=hidden]:first").focus():o.focus())})})},ShowWindow:function(o,l,a){a=a||{backdrop:"static"},$.get(o,function(o){$("#global-modal .modal-content").html(o),Modal.SetWindowSize(l),$("#global-modal").modal(a)}).fail(function(o,l,a){console.log(o.statusText)}),a.closeCallBack&&$("#global-modal").on("hidden.bs.modal",function(){a.closeCallBack()})},SetupForm:function(l){$("#global-modal").on("submit","form",function(o){o.preventDefault(),$(this).valid()&&$.ajax({method:"POST",url:$(this).attr("action"),data:$(this).serialize(),statusCode:l})})},SetWindowSize:function(o){var l=$("#global-modal > .modal-dialog").removeClass("modal-lg modal-sm modal-md");if(o)switch(o){case"small":l.addClass("modal-sm");break;case"large":l.addClass("modal-lg");break;default:l.addClass("modal-md")}else l.addClass("modal-md")},ShowWindowPost:function(o,l,a,t){t=t||{backdrop:"static"},$.ajax({url:o,data:$(l).serialize(),method:"POST",success:function(o){$("#global-modal .modal-content").html(o),Modal.SetWindowSize(a),$("#global-modal").modal(t)}})},CloseWindow:function(){$("#global-modal .modal-content").html(""),$("#global-modal").modal("hide"),$(".modal-backdrop").remove()},GenerateLink:function(o,l){return'<a href="'+o+'" class="global-modal link">'+l+"</a>"},ShowValidationErrors:function(o){$("#global-modal [type=submit]").removeAttr("disabled"),$(".field-validation-error").html(""),$("#global-modal form").validate().showErrors($.parseJSON(o))},ReplaceGlobalModalContent:function(o){$.get(o,function(o){$("#global-modal .modal-content").html(o)})}};